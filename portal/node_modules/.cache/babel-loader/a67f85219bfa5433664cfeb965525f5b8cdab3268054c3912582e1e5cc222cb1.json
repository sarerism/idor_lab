{"ast":null,"code":"import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{Button,Card,CardHeader,CardBody,CardTitle,FormGroup,Form,Input,Row,Col,Alert,Container}from\"reactstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){const[employeeId,setEmployeeId]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const[loading,setLoading]=useState(false);const navigate=useNavigate();const handleLogin=async e=>{e.preventDefault();setError(\"\");setLoading(true);try{const response=await fetch(\"/api/auth.php\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({employee_id:employeeId,password:password})});const data=await response.json();if(data.success){localStorage.setItem(\"user\",JSON.stringify(data.user));localStorage.setItem(\"token\",data.token);navigate(\"/dashboard\");}else{setError(data.message||\"Login failed\");}}catch(err){setError(\"Connection error. Please try again.\");}finally{setLoading(false);}};return/*#__PURE__*/_jsx(\"div\",{className:\"login-page\",style:{background:\"linear-gradient(135deg, #00447c 0%, #2d2926 100%)\",minHeight:\"100vh\",display:\"flex\",alignItems:\"center\",justifyContent:\"center\",padding:\"20px\"},children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsx(Row,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(Col,{md:\"6\",lg:\"5\",children:/*#__PURE__*/_jsxs(Card,{className:\"card-login\",children:[/*#__PURE__*/_jsxs(CardHeader,{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/images/mercedes-logo.png\",alt:\"MBTI Logo\",style:{width:\"60px\",marginBottom:\"15px\"}}),/*#__PURE__*/_jsx(CardTitle,{tag:\"h3\",style:{marginBottom:\"5px\"},children:\"MBTI Employee Portal\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Please log in with your credentials\"})]}),/*#__PURE__*/_jsxs(CardBody,{children:[error&&/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:error}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Employee ID\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Enter your employee ID\",type:\"text\",value:employeeId,onChange:e=>setEmployeeId(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(Input,{placeholder:\"Enter your password\",type:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(Button,{block:true,className:\"btn-round\",color:\"primary\",type:\"submit\",disabled:loading,children:loading?\"Logging in...\":\"Log In\"})]})]})]})})})})});}export default Login;","map":{"version":3,"names":["React","useState","useNavigate","Button","Card","CardHeader","CardBody","CardTitle","FormGroup","Form","Input","Row","Col","Alert","Container","jsx","_jsx","jsxs","_jsxs","Login","employeeId","setEmployeeId","password","setPassword","error","setError","loading","setLoading","navigate","handleLogin","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","employee_id","data","json","success","localStorage","setItem","user","token","message","err","className","style","background","minHeight","display","alignItems","justifyContent","padding","children","md","lg","src","alt","width","marginBottom","tag","color","onSubmit","placeholder","type","value","onChange","target","required","block","disabled"],"sources":["/home/kali/projects/mbti/idor_lab/portal/src/views/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport {\n    Button,\n    Card,\n    CardHeader,\n    CardBody,\n    CardTitle,\n    FormGroup,\n    Form,\n    Input,\n    Row,\n    Col,\n    Alert,\n    Container,\n} from \"reactstrap\";\n\nfunction Login() {\n    const [employeeId, setEmployeeId] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [error, setError] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const navigate = useNavigate();\n\n    const handleLogin = async (e) => {\n        e.preventDefault();\n        setError(\"\");\n        setLoading(true);\n\n        try {\n            const response = await fetch(\"/api/auth.php\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                },\n                body: JSON.stringify({\n                    employee_id: employeeId,\n                    password: password,\n                }),\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                localStorage.setItem(\"user\", JSON.stringify(data.user));\n                localStorage.setItem(\"token\", data.token);\n                navigate(\"/dashboard\");\n            } else {\n                setError(data.message || \"Login failed\");\n            }\n        } catch (err) {\n            setError(\"Connection error. Please try again.\");\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className=\"login-page\" style={{\n            background: \"linear-gradient(135deg, #00447c 0%, #2d2926 100%)\",\n            minHeight: \"100vh\",\n            display: \"flex\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n            padding: \"20px\"\n        }}>\n            <Container>\n                <Row className=\"justify-content-center\">\n                    <Col md=\"6\" lg=\"5\">\n                        <Card className=\"card-login\">\n                            <CardHeader className=\"text-center\">\n                                <img\n                                    src=\"/images/mercedes-logo.png\"\n                                    alt=\"MBTI Logo\"\n                                    style={{ width: \"60px\", marginBottom: \"15px\" }}\n                                />\n                                <CardTitle tag=\"h3\" style={{ marginBottom: \"5px\" }}>\n                                    MBTI Employee Portal\n                                </CardTitle>\n                                <p className=\"text-muted\">Please log in with your credentials</p>\n                            </CardHeader>\n                            <CardBody>\n                                {error && <Alert color=\"danger\">{error}</Alert>}\n                                <Form onSubmit={handleLogin}>\n                                    <FormGroup>\n                                        <label>Employee ID</label>\n                                        <Input\n                                            placeholder=\"Enter your employee ID\"\n                                            type=\"text\"\n                                            value={employeeId}\n                                            onChange={(e) => setEmployeeId(e.target.value)}\n                                            required\n                                        />\n                                    </FormGroup>\n                                    <FormGroup>\n                                        <label>Password</label>\n                                        <Input\n                                            placeholder=\"Enter your password\"\n                                            type=\"password\"\n                                            value={password}\n                                            onChange={(e) => setPassword(e.target.value)}\n                                            required\n                                        />\n                                    </FormGroup>\n                                    <Button\n                                        block\n                                        className=\"btn-round\"\n                                        color=\"primary\"\n                                        type=\"submit\"\n                                        disabled={loading}\n                                    >\n                                        {loading ? \"Logging in...\" : \"Log In\"}\n                                    </Button>\n                                </Form>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    );\n}\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}