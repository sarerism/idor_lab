{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate,useSearchParams}from\"react-router-dom\";import{Card,CardHeader,CardBody,CardTitle,Table,Row,Col,Button,Badge,Alert,Input,Form,FormGroup,Label}from\"reactstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Reports(){const[searchParams]=useSearchParams();const[accessDenied,setAccessDenied]=useState(false);const[loggedInUser,setLoggedInUser]=useState(null);const uid=searchParams.get(\"uid\");const[selectedFile,setSelectedFile]=useState(null);const[uploadStatus,setUploadStatus]=useState(null);const[uploadProgress,setUploadProgress]=useState(0);const[reportTitle,setReportTitle]=useState(\"\");useEffect(()=>{const userData=localStorage.getItem(\"user\");if(userData){const parsedUser=JSON.parse(userData);setLoggedInUser(parsedUser);// Check if the uid in URL matches the logged-in user\nif(uid&&uid!==parsedUser.employee_id){setAccessDenied(true);}else{setAccessDenied(false);}}},[uid]);const handleFileChange=e=>{const file=e.target.files[0];if(file){// Validate file type\nif(file.type!=='application/pdf'){setUploadStatus({type:'danger',message:'Please select a PDF file'});setSelectedFile(null);return;}// Validate file size (max 10MB)\nif(file.size>10*1024*1024){setUploadStatus({type:'danger',message:'File size must be less than 10MB'});setSelectedFile(null);return;}setSelectedFile(file);setUploadStatus(null);}};const handleUpload=async e=>{e.preventDefault();if(!selectedFile||!reportTitle.trim()){setUploadStatus({type:'warning',message:'Please provide both report title and PDF file'});return;}const formData=new FormData();formData.append('pdf',selectedFile);formData.append('title',reportTitle);formData.append('employee_id',loggedInUser.employee_id);try{setUploadProgress(25);const response=await fetch('/api/upload_report.php',{method:'POST',body:formData,credentials:'include'// Include session cookie\n});setUploadProgress(75);const data=await response.json();setUploadProgress(100);if(data.success){setUploadStatus({type:'success',message:\"Report uploaded successfully! File ID: \".concat(data.file_id)});setSelectedFile(null);setReportTitle('');// Reset file input\ndocument.getElementById('pdf-upload').value='';setTimeout(()=>setUploadProgress(0),2000);}else{setUploadStatus({type:'danger',message:data.message||'Upload failed'});setUploadProgress(0);}}catch(error){console.error('Upload error:',error);setUploadStatus({type:'danger',message:'Network error during upload'});setUploadProgress(0);}};if(accessDenied){return/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(CardBody,{children:/*#__PURE__*/_jsxs(Alert,{color:\"danger\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"alert-heading\",children:\"Access Denied\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You don't have permission to view this page. You are trying to access data for user ID: \",/*#__PURE__*/_jsx(\"strong\",{children:uid})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Your user ID is: \",/*#__PURE__*/_jsx(\"strong\",{children:loggedInUser===null||loggedInUser===void 0?void 0:loggedInUser.employee_id})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-0\",children:\"Please use the navigation menu to access your own data.\"})]})})})})})});}// Show report upload interface\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsxs(CardHeader,{children:[/*#__PURE__*/_jsxs(CardTitle,{tag:\"h4\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"nc-icon nc-paper\"}),\" Weekly Reports\"]}),/*#__PURE__*/_jsx(\"p\",{className:\"card-category\",children:\"Upload your weekly report as PDF\"})]}),/*#__PURE__*/_jsxs(CardBody,{children:[uploadStatus&&/*#__PURE__*/_jsx(Alert,{color:uploadStatus.type,className:\"mb-4\",children:uploadStatus.message}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleUpload,children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"report-title\",children:\"Report Title *\"}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"report-title\",placeholder:\"e.g., Weekly Report - December 2024\",value:reportTitle,onChange:e=>setReportTitle(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"pdf-upload\",children:\"Upload PDF Report *\"}),/*#__PURE__*/_jsx(Input,{type:\"file\",id:\"pdf-upload\",accept:\"application/pdf\",onChange:handleFileChange,required:true}),/*#__PURE__*/_jsx(\"small\",{className:\"text-muted\",children:\"Maximum file size: 10MB. Only PDF files are allowed.\"})]}),selectedFile&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3 p-3\",style:{backgroundColor:'#f8f9fa',borderRadius:'4px'},children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Selected file:\"}),\" \",selectedFile.name,\" (\",(selectedFile.size/1024).toFixed(2),\" KB)\"]}),uploadProgress>0&&uploadProgress<100&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"progress-bar progress-bar-striped progress-bar-animated\",role:\"progressbar\",style:{width:\"\".concat(uploadProgress,\"%\")},children:[uploadProgress,\"%\"]})})}),/*#__PURE__*/_jsxs(Button,{color:\"info\",type:\"submit\",disabled:uploadProgress>0&&uploadProgress<100,children:[/*#__PURE__*/_jsx(\"i\",{className:\"nc-icon nc-cloud-upload-94\"}),\" Upload Report\"]})]}),/*#__PURE__*/_jsx(\"hr\",{className:\"my-4\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",style:{padding:\"40px 20px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"nc-icon nc-paper\",style:{fontSize:\"48px\",color:\"#ccc\",marginBottom:\"15px\"}}),/*#__PURE__*/_jsx(\"h5\",{className:\"text-muted\",children:\"No Previous Reports\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Your uploaded reports will appear here\"})]})]})]})})})});}// Old code - keeping for reference if reports are added back\n/*\nfunction ReportsOld() {\n    const [loading, setLoading] = useState(true);\n    const [selectedReport, setSelectedReport] = useState(null);\n    const [searchParams] = useSearchParams();\n    const navigate = useNavigate();\n    const reportId = searchParams.get(\"report_id\");\n\n    useEffect(() => {\n        if (!reportId) {\n            // Redirect to most recent report (502) when no report_id specified\n            navigate(\"/reports?report_id=502\", { replace: true });\n            return;\n        }\n        fetchReportById(parseInt(reportId));\n    }, [reportId, navigate]);\n\n\n\n    const fetchReportById = async (id) => {\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/reports.php?id=${id}`);\n            const data = await response.json();\n            if (data.success) {\n                setSelectedReport(data.data);\n            } else {\n                setSelectedReport(null);\n            }\n        } catch (error) {\n            console.error(\"Error fetching report:\", error);\n            setSelectedReport(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n\n\n    if (loading) {\n        return (\n            <div className=\"content\">\n                <div className=\"text-center\">Loading...</div>\n            </div>\n        );\n    }\n\n    // Show individual report view\n    if (reportId && selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardHeader>\n                                <Row>\n                                    <Col md=\"6\">\n                                        <CardTitle tag=\"h4\">\n                                            Report #{selectedReport.id}\n                                            {selectedReport.is_confidential && (\n                                                <Badge color=\"danger\" className=\"ml-2\">\n                                                    CONFIDENTIAL\n                                                </Badge>\n                                            )}\n                                        </CardTitle>\n                                        <p className=\"card-category\">{selectedReport.report_title}</p>\n                                    </Col>\n                                </Row>\n                            </CardHeader>\n                            <CardBody>\n                                <Row className=\"mb-3\">\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Employee:</strong> {selectedReport.employee_name}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Employee ID:</strong> {selectedReport.employee_id}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Department:</strong>{\" \"}\n                                            {selectedReport.employee_id === \"MBTI2024837\"\n                                                ? \"EPA\"\n                                                : selectedReport.employee_id === \"MBTI2024999\"\n                                                    ? \"Management\"\n                                                    : \"Various\"}\n                                        </p>\n                                    </Col>\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Submitted:</strong>{\" \"}\n                                            {new Date(selectedReport.submitted_at).toLocaleString()}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Status:</strong>{\" \"}\n                                            <Badge\n                                                color={\n                                                    selectedReport.status === \"approved\" ? \"success\" : \"warning\"\n                                                }\n                                            >\n                                                {selectedReport.status}\n                                            </Badge>\n                                        </p>\n                                    </Col>\n                                </Row>\n\n                                <Card className=\"mb-3\">\n                                    <CardBody\n                                        style={{\n                                            backgroundColor: \"#f8f9fa\",\n                                            maxHeight: \"500px\",\n                                            overflowY: \"auto\",\n                                            whiteSpace: \"pre-wrap\",\n                                            fontFamily: \"monospace\",\n                                            fontSize: \"13px\",\n                                            lineHeight: \"1.6\",\n                                        }}\n                                    >\n                                        {selectedReport.report_content}\n                                    </CardBody>\n                                </Card>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Show report not found\n    if (reportId && !selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardBody className=\"text-center\">\n                                <h4>Report Not Found</h4>\n                                <p className=\"text-muted\">Report #{reportId} does not exist.</p>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Fallback - should never reach here due to redirect\n    return null;\n}\n*/export default Reports;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","Card","CardHeader","CardBody","CardTitle","Table","Row","Col","Button","Badge","Alert","Input","Form","FormGroup","Label","jsx","_jsx","jsxs","_jsxs","Reports","searchParams","accessDenied","setAccessDenied","loggedInUser","setLoggedInUser","uid","get","selectedFile","setSelectedFile","uploadStatus","setUploadStatus","uploadProgress","setUploadProgress","reportTitle","setReportTitle","userData","localStorage","getItem","parsedUser","JSON","parse","employee_id","handleFileChange","e","file","target","files","type","message","size","handleUpload","preventDefault","trim","formData","FormData","append","response","fetch","method","body","credentials","data","json","success","concat","file_id","document","getElementById","value","setTimeout","error","console","className","children","md","color","tag","onSubmit","for","id","placeholder","onChange","required","accept","style","backgroundColor","borderRadius","name","toFixed","role","width","disabled","padding","fontSize","marginBottom"],"sources":["/home/kali/projects/mbti/idor_lab/portal/src/views/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport {\n    Card,\n    CardHeader,\n    CardBody,\n    CardTitle,\n    Table,\n    Row,\n    Col,\n    Button,\n    Badge,\n    Alert,\n    Input,\n    Form,\n    FormGroup,\n    Label,\n} from \"reactstrap\";\n\nfunction Reports() {\n    const [searchParams] = useSearchParams();\n    const [accessDenied, setAccessDenied] = useState(false);\n    const [loggedInUser, setLoggedInUser] = useState(null);\n    const uid = searchParams.get(\"uid\");\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [uploadStatus, setUploadStatus] = useState(null);\n    const [uploadProgress, setUploadProgress] = useState(0);\n    const [reportTitle, setReportTitle] = useState(\"\");\n\n    useEffect(() => {\n        const userData = localStorage.getItem(\"user\");\n        if (userData) {\n            const parsedUser = JSON.parse(userData);\n            setLoggedInUser(parsedUser);\n\n            // Check if the uid in URL matches the logged-in user\n            if (uid && uid !== parsedUser.employee_id) {\n                setAccessDenied(true);\n            } else {\n                setAccessDenied(false);\n            }\n        }\n    }, [uid]);\n\n    const handleFileChange = (e) => {\n        const file = e.target.files[0];\n        if (file) {\n            // Validate file type\n            if (file.type !== 'application/pdf') {\n                setUploadStatus({ type: 'danger', message: 'Please select a PDF file' });\n                setSelectedFile(null);\n                return;\n            }\n            // Validate file size (max 10MB)\n            if (file.size > 10 * 1024 * 1024) {\n                setUploadStatus({ type: 'danger', message: 'File size must be less than 10MB' });\n                setSelectedFile(null);\n                return;\n            }\n            setSelectedFile(file);\n            setUploadStatus(null);\n        }\n    };\n\n    const handleUpload = async (e) => {\n        e.preventDefault();\n\n        if (!selectedFile || !reportTitle.trim()) {\n            setUploadStatus({ type: 'warning', message: 'Please provide both report title and PDF file' });\n            return;\n        }\n\n        const formData = new FormData();\n        formData.append('pdf', selectedFile);\n        formData.append('title', reportTitle);\n        formData.append('employee_id', loggedInUser.employee_id);\n\n        try {\n            setUploadProgress(25);\n            const response = await fetch('/api/upload_report.php', {\n                method: 'POST',\n                body: formData,\n                credentials: 'include', // Include session cookie\n            });\n\n            setUploadProgress(75);\n            const data = await response.json();\n            setUploadProgress(100);\n\n            if (data.success) {\n                setUploadStatus({ type: 'success', message: `Report uploaded successfully! File ID: ${data.file_id}` });\n                setSelectedFile(null);\n                setReportTitle('');\n                // Reset file input\n                document.getElementById('pdf-upload').value = '';\n                setTimeout(() => setUploadProgress(0), 2000);\n            } else {\n                setUploadStatus({ type: 'danger', message: data.message || 'Upload failed' });\n                setUploadProgress(0);\n            }\n        } catch (error) {\n            console.error('Upload error:', error);\n            setUploadStatus({ type: 'danger', message: 'Network error during upload' });\n            setUploadProgress(0);\n        }\n    };\n\n    if (accessDenied) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardBody>\n                                <Alert color=\"danger\">\n                                    <h4 className=\"alert-heading\">Access Denied</h4>\n                                    <p>\n                                        You don't have permission to view this page. You are trying to access data for user ID: <strong>{uid}</strong>\n                                    </p>\n                                    <p>\n                                        Your user ID is: <strong>{loggedInUser?.employee_id}</strong>\n                                    </p>\n                                    <hr />\n                                    <p className=\"mb-0\">\n                                        Please use the navigation menu to access your own data.\n                                    </p>\n                                </Alert>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Show report upload interface\n    return (\n        <div className=\"content\">\n            <Row>\n                <Col md=\"12\">\n                    <Card>\n                        <CardHeader>\n                            <CardTitle tag=\"h4\">\n                                <i className=\"nc-icon nc-paper\"></i> Weekly Reports\n                            </CardTitle>\n                            <p className=\"card-category\">Upload your weekly report as PDF</p>\n                        </CardHeader>\n                        <CardBody>\n                            {uploadStatus && (\n                                <Alert color={uploadStatus.type} className=\"mb-4\">\n                                    {uploadStatus.message}\n                                </Alert>\n                            )}\n\n                            <Form onSubmit={handleUpload}>\n                                <FormGroup>\n                                    <Label for=\"report-title\">Report Title *</Label>\n                                    <Input\n                                        type=\"text\"\n                                        id=\"report-title\"\n                                        placeholder=\"e.g., Weekly Report - December 2024\"\n                                        value={reportTitle}\n                                        onChange={(e) => setReportTitle(e.target.value)}\n                                        required\n                                    />\n                                </FormGroup>\n\n                                <FormGroup>\n                                    <Label for=\"pdf-upload\">Upload PDF Report *</Label>\n                                    <Input\n                                        type=\"file\"\n                                        id=\"pdf-upload\"\n                                        accept=\"application/pdf\"\n                                        onChange={handleFileChange}\n                                        required\n                                    />\n                                    <small className=\"text-muted\">\n                                        Maximum file size: 10MB. Only PDF files are allowed.\n                                    </small>\n                                </FormGroup>\n\n                                {selectedFile && (\n                                    <div className=\"mb-3 p-3\" style={{ backgroundColor: '#f8f9fa', borderRadius: '4px' }}>\n                                        <strong>Selected file:</strong> {selectedFile.name} ({(selectedFile.size / 1024).toFixed(2)} KB)\n                                    </div>\n                                )}\n\n                                {uploadProgress > 0 && uploadProgress < 100 && (\n                                    <div className=\"mb-3\">\n                                        <div className=\"progress\">\n                                            <div\n                                                className=\"progress-bar progress-bar-striped progress-bar-animated\"\n                                                role=\"progressbar\"\n                                                style={{ width: `${uploadProgress}%` }}\n                                            >\n                                                {uploadProgress}%\n                                            </div>\n                                        </div>\n                                    </div>\n                                )}\n\n                                <Button color=\"info\" type=\"submit\" disabled={uploadProgress > 0 && uploadProgress < 100}>\n                                    <i className=\"nc-icon nc-cloud-upload-94\"></i> Upload Report\n                                </Button>\n                            </Form>\n\n                            <hr className=\"my-4\" />\n\n                            <div className=\"text-center\" style={{ padding: \"40px 20px\" }}>\n                                <i className=\"nc-icon nc-paper\" style={{ fontSize: \"48px\", color: \"#ccc\", marginBottom: \"15px\" }}></i>\n                                <h5 className=\"text-muted\">No Previous Reports</h5>\n                                <p className=\"text-muted\">Your uploaded reports will appear here</p>\n                            </div>\n                        </CardBody>\n                    </Card>\n                </Col>\n            </Row>\n        </div>\n    );\n}\n\n// Old code - keeping for reference if reports are added back\n/*\nfunction ReportsOld() {\n    const [loading, setLoading] = useState(true);\n    const [selectedReport, setSelectedReport] = useState(null);\n    const [searchParams] = useSearchParams();\n    const navigate = useNavigate();\n    const reportId = searchParams.get(\"report_id\");\n\n    useEffect(() => {\n        if (!reportId) {\n            // Redirect to most recent report (502) when no report_id specified\n            navigate(\"/reports?report_id=502\", { replace: true });\n            return;\n        }\n        fetchReportById(parseInt(reportId));\n    }, [reportId, navigate]);\n\n\n\n    const fetchReportById = async (id) => {\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/reports.php?id=${id}`);\n            const data = await response.json();\n            if (data.success) {\n                setSelectedReport(data.data);\n            } else {\n                setSelectedReport(null);\n            }\n        } catch (error) {\n            console.error(\"Error fetching report:\", error);\n            setSelectedReport(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n\n\n    if (loading) {\n        return (\n            <div className=\"content\">\n                <div className=\"text-center\">Loading...</div>\n            </div>\n        );\n    }\n\n    // Show individual report view\n    if (reportId && selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardHeader>\n                                <Row>\n                                    <Col md=\"6\">\n                                        <CardTitle tag=\"h4\">\n                                            Report #{selectedReport.id}\n                                            {selectedReport.is_confidential && (\n                                                <Badge color=\"danger\" className=\"ml-2\">\n                                                    CONFIDENTIAL\n                                                </Badge>\n                                            )}\n                                        </CardTitle>\n                                        <p className=\"card-category\">{selectedReport.report_title}</p>\n                                    </Col>\n                                </Row>\n                            </CardHeader>\n                            <CardBody>\n                                <Row className=\"mb-3\">\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Employee:</strong> {selectedReport.employee_name}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Employee ID:</strong> {selectedReport.employee_id}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Department:</strong>{\" \"}\n                                            {selectedReport.employee_id === \"MBTI2024837\"\n                                                ? \"EPA\"\n                                                : selectedReport.employee_id === \"MBTI2024999\"\n                                                    ? \"Management\"\n                                                    : \"Various\"}\n                                        </p>\n                                    </Col>\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Submitted:</strong>{\" \"}\n                                            {new Date(selectedReport.submitted_at).toLocaleString()}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Status:</strong>{\" \"}\n                                            <Badge\n                                                color={\n                                                    selectedReport.status === \"approved\" ? \"success\" : \"warning\"\n                                                }\n                                            >\n                                                {selectedReport.status}\n                                            </Badge>\n                                        </p>\n                                    </Col>\n                                </Row>\n\n                                <Card className=\"mb-3\">\n                                    <CardBody\n                                        style={{\n                                            backgroundColor: \"#f8f9fa\",\n                                            maxHeight: \"500px\",\n                                            overflowY: \"auto\",\n                                            whiteSpace: \"pre-wrap\",\n                                            fontFamily: \"monospace\",\n                                            fontSize: \"13px\",\n                                            lineHeight: \"1.6\",\n                                        }}\n                                    >\n                                        {selectedReport.report_content}\n                                    </CardBody>\n                                </Card>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Show report not found\n    if (reportId && !selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardBody className=\"text-center\">\n                                <h4>Report Not Found</h4>\n                                <p className=\"text-muted\">Report #{reportId} does not exist.</p>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Fallback - should never reach here due to redirect\n    return null;\n}\n*/\n\nexport default Reports;\n"],"mappings":"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,CAAC,iBAClD,EAAQ,CAAC,EACP,CAAC,cAEPxD,IAAA,OAAIwD,SAAS,CAAC,MAAM,CAAE,CAAC,cAEvBtD,KAAA,QAAKsD,SAAS,CAAC,aAAa,CAACY,KAAK,CAAE,CAAEQ,OAAO,CAAE,WAAY,CAAE,CAAAnB,QAAA,eACzDzD,IAAA,MAAGwD,SAAS,CAAC,kBAAkB,CAACY,KAAK,CAAE,CAAES,QAAQ,CAAE,MAAM,CAAElB,KAAK,CAAE,MAAM,CAAEmB,YAAY,CAAE,MAAO,CAAE,CAAI,CAAC,cACtG9E,IAAA,OAAIwD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,qBAAmB,CAAI,CAAC,cACnDzD,IAAA,MAAGwD,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,wCAAsC,CAAG,CAAC,EACnE,CAAC,EACA,CAAC,EACT,CAAC,CACN,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAEA,cAAe,CAAAtD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}