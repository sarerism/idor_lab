{"ast":null,"code":"import React,{useState,useEffect}from\"react\";import{useNavigate,useSearchParams}from\"react-router-dom\";import{Card,CardHeader,CardBody,CardTitle,Table,Row,Col,Button,Badge}from\"reactstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Reports(){// Show empty state - no reports available\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{md:\"12\",children:/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(CardTitle,{tag:\"h4\",children:\"Reports\"})}),/*#__PURE__*/_jsxs(CardBody,{className:\"text-center\",style:{padding:\"60px 20px\"},children:[/*#__PURE__*/_jsx(\"i\",{className:\"nc-icon nc-paper\",style:{fontSize:\"64px\",color:\"#ccc\",marginBottom:\"20px\"}}),/*#__PURE__*/_jsx(\"h4\",{children:\"No Reports Available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"There are currently no reports to display.\"})]})]})})})});}// Old code - keeping for reference if reports are added back\n/*\nfunction ReportsOld() {\n    const [loading, setLoading] = useState(true);\n    const [selectedReport, setSelectedReport] = useState(null);\n    const [searchParams] = useSearchParams();\n    const navigate = useNavigate();\n    const reportId = searchParams.get(\"report_id\");\n\n    useEffect(() => {\n        if (!reportId) {\n            // Redirect to most recent report (502) when no report_id specified\n            navigate(\"/reports?report_id=502\", { replace: true });\n            return;\n        }\n        fetchReportById(parseInt(reportId));\n    }, [reportId, navigate]);\n\n\n\n    const fetchReportById = async (id) => {\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/reports.php?id=${id}`);\n            const data = await response.json();\n            if (data.success) {\n                setSelectedReport(data.data);\n            } else {\n                setSelectedReport(null);\n            }\n        } catch (error) {\n            console.error(\"Error fetching report:\", error);\n            setSelectedReport(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n\n\n    if (loading) {\n        return (\n            <div className=\"content\">\n                <div className=\"text-center\">Loading...</div>\n            </div>\n        );\n    }\n\n    // Show individual report view\n    if (reportId && selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardHeader>\n                                <Row>\n                                    <Col md=\"6\">\n                                        <CardTitle tag=\"h4\">\n                                            Report #{selectedReport.id}\n                                            {selectedReport.is_confidential && (\n                                                <Badge color=\"danger\" className=\"ml-2\">\n                                                    CONFIDENTIAL\n                                                </Badge>\n                                            )}\n                                        </CardTitle>\n                                        <p className=\"card-category\">{selectedReport.report_title}</p>\n                                    </Col>\n                                </Row>\n                            </CardHeader>\n                            <CardBody>\n                                <Row className=\"mb-3\">\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Employee:</strong> {selectedReport.employee_name}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Employee ID:</strong> {selectedReport.employee_id}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Department:</strong>{\" \"}\n                                            {selectedReport.employee_id === \"MBTI2024837\"\n                                                ? \"EPA\"\n                                                : selectedReport.employee_id === \"MBTI2024999\"\n                                                    ? \"Management\"\n                                                    : \"Various\"}\n                                        </p>\n                                    </Col>\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Submitted:</strong>{\" \"}\n                                            {new Date(selectedReport.submitted_at).toLocaleString()}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Status:</strong>{\" \"}\n                                            <Badge\n                                                color={\n                                                    selectedReport.status === \"approved\" ? \"success\" : \"warning\"\n                                                }\n                                            >\n                                                {selectedReport.status}\n                                            </Badge>\n                                        </p>\n                                    </Col>\n                                </Row>\n\n                                <Card className=\"mb-3\">\n                                    <CardBody\n                                        style={{\n                                            backgroundColor: \"#f8f9fa\",\n                                            maxHeight: \"500px\",\n                                            overflowY: \"auto\",\n                                            whiteSpace: \"pre-wrap\",\n                                            fontFamily: \"monospace\",\n                                            fontSize: \"13px\",\n                                            lineHeight: \"1.6\",\n                                        }}\n                                    >\n                                        {selectedReport.report_content}\n                                    </CardBody>\n                                </Card>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Show report not found\n    if (reportId && !selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardBody className=\"text-center\">\n                                <h4>Report Not Found</h4>\n                                <p className=\"text-muted\">Report #{reportId} does not exist.</p>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Fallback - should never reach here due to redirect\n    return null;\n}\n*/export default Reports;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","useSearchParams","Card","CardHeader","CardBody","CardTitle","Table","Row","Col","Button","Badge","jsx","_jsx","jsxs","_jsxs","Reports","className","children","md","tag","style","padding","fontSize","color","marginBottom"],"sources":["/home/kali/projects/mbti/idor_lab/portal/src/views/Reports.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useNavigate, useSearchParams } from \"react-router-dom\";\nimport {\n    Card,\n    CardHeader,\n    CardBody,\n    CardTitle,\n    Table,\n    Row,\n    Col,\n    Button,\n    Badge,\n} from \"reactstrap\";\n\nfunction Reports() {\n    // Show empty state - no reports available\n    return (\n        <div className=\"content\">\n            <Row>\n                <Col md=\"12\">\n                    <Card>\n                        <CardHeader>\n                            <CardTitle tag=\"h4\">Reports</CardTitle>\n                        </CardHeader>\n                        <CardBody className=\"text-center\" style={{ padding: \"60px 20px\" }}>\n                            <i className=\"nc-icon nc-paper\" style={{ fontSize: \"64px\", color: \"#ccc\", marginBottom: \"20px\" }}></i>\n                            <h4>No Reports Available</h4>\n                            <p className=\"text-muted\">There are currently no reports to display.</p>\n                        </CardBody>\n                    </Card>\n                </Col>\n            </Row>\n        </div>\n    );\n}\n\n// Old code - keeping for reference if reports are added back\n/*\nfunction ReportsOld() {\n    const [loading, setLoading] = useState(true);\n    const [selectedReport, setSelectedReport] = useState(null);\n    const [searchParams] = useSearchParams();\n    const navigate = useNavigate();\n    const reportId = searchParams.get(\"report_id\");\n\n    useEffect(() => {\n        if (!reportId) {\n            // Redirect to most recent report (502) when no report_id specified\n            navigate(\"/reports?report_id=502\", { replace: true });\n            return;\n        }\n        fetchReportById(parseInt(reportId));\n    }, [reportId, navigate]);\n\n\n\n    const fetchReportById = async (id) => {\n        try {\n            setLoading(true);\n            const response = await fetch(`/api/reports.php?id=${id}`);\n            const data = await response.json();\n            if (data.success) {\n                setSelectedReport(data.data);\n            } else {\n                setSelectedReport(null);\n            }\n        } catch (error) {\n            console.error(\"Error fetching report:\", error);\n            setSelectedReport(null);\n        } finally {\n            setLoading(false);\n        }\n    };\n\n\n\n    if (loading) {\n        return (\n            <div className=\"content\">\n                <div className=\"text-center\">Loading...</div>\n            </div>\n        );\n    }\n\n    // Show individual report view\n    if (reportId && selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardHeader>\n                                <Row>\n                                    <Col md=\"6\">\n                                        <CardTitle tag=\"h4\">\n                                            Report #{selectedReport.id}\n                                            {selectedReport.is_confidential && (\n                                                <Badge color=\"danger\" className=\"ml-2\">\n                                                    CONFIDENTIAL\n                                                </Badge>\n                                            )}\n                                        </CardTitle>\n                                        <p className=\"card-category\">{selectedReport.report_title}</p>\n                                    </Col>\n                                </Row>\n                            </CardHeader>\n                            <CardBody>\n                                <Row className=\"mb-3\">\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Employee:</strong> {selectedReport.employee_name}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Employee ID:</strong> {selectedReport.employee_id}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Department:</strong>{\" \"}\n                                            {selectedReport.employee_id === \"MBTI2024837\"\n                                                ? \"EPA\"\n                                                : selectedReport.employee_id === \"MBTI2024999\"\n                                                    ? \"Management\"\n                                                    : \"Various\"}\n                                        </p>\n                                    </Col>\n                                    <Col md=\"6\">\n                                        <p className=\"mb-2\">\n                                            <strong>Submitted:</strong>{\" \"}\n                                            {new Date(selectedReport.submitted_at).toLocaleString()}\n                                        </p>\n                                        <p className=\"mb-2\">\n                                            <strong>Status:</strong>{\" \"}\n                                            <Badge\n                                                color={\n                                                    selectedReport.status === \"approved\" ? \"success\" : \"warning\"\n                                                }\n                                            >\n                                                {selectedReport.status}\n                                            </Badge>\n                                        </p>\n                                    </Col>\n                                </Row>\n\n                                <Card className=\"mb-3\">\n                                    <CardBody\n                                        style={{\n                                            backgroundColor: \"#f8f9fa\",\n                                            maxHeight: \"500px\",\n                                            overflowY: \"auto\",\n                                            whiteSpace: \"pre-wrap\",\n                                            fontFamily: \"monospace\",\n                                            fontSize: \"13px\",\n                                            lineHeight: \"1.6\",\n                                        }}\n                                    >\n                                        {selectedReport.report_content}\n                                    </CardBody>\n                                </Card>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Show report not found\n    if (reportId && !selectedReport) {\n        return (\n            <div className=\"content\">\n                <Row>\n                    <Col md=\"12\">\n                        <Card>\n                            <CardBody className=\"text-center\">\n                                <h4>Report Not Found</h4>\n                                <p className=\"text-muted\">Report #{reportId} does not exist.</p>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </div>\n        );\n    }\n\n    // Fallback - should never reach here due to redirect\n    return null;\n}\n*/\n\nexport default Reports;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,eAAe,KAAQ,kBAAkB,CAC/D,OACIC,IAAI,CACJC,UAAU,CACVC,QAAQ,CACRC,SAAS,CACTC,KAAK,CACLC,GAAG,CACHC,GAAG,CACHC,MAAM,CACNC,KAAK,KACF,YAAY,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEpB,QAAS,CAAAC,OAAOA,CAAA,CAAG,CACf;AACA,mBACIH,IAAA,QAAKI,SAAS,CAAC,SAAS,CAAAC,QAAA,cACpBL,IAAA,CAACL,GAAG,EAAAU,QAAA,cACAL,IAAA,CAACJ,GAAG,EAACU,EAAE,CAAC,IAAI,CAAAD,QAAA,cACRH,KAAA,CAACZ,IAAI,EAAAe,QAAA,eACDL,IAAA,CAACT,UAAU,EAAAc,QAAA,cACPL,IAAA,CAACP,SAAS,EAACc,GAAG,CAAC,IAAI,CAAAF,QAAA,CAAC,SAAO,CAAW,CAAC,CAC/B,CAAC,cACbH,KAAA,CAACV,QAAQ,EAACY,SAAS,CAAC,aAAa,CAACI,KAAK,CAAE,CAAEC,OAAO,CAAE,WAAY,CAAE,CAAAJ,QAAA,eAC9DL,IAAA,MAAGI,SAAS,CAAC,kBAAkB,CAACI,KAAK,CAAE,CAAEE,QAAQ,CAAE,MAAM,CAAEC,KAAK,CAAE,MAAM,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAI,CAAC,cACtGZ,IAAA,OAAAK,QAAA,CAAI,sBAAoB,CAAI,CAAC,cAC7BL,IAAA,MAAGI,SAAS,CAAC,YAAY,CAAAC,QAAA,CAAC,4CAA0C,CAAG,CAAC,EAClE,CAAC,EACT,CAAC,CACN,CAAC,CACL,CAAC,CACL,CAAC,CAEd,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAEA,cAAe,CAAAF,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}